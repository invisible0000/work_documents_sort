# 지능형 파일 정리를 위한 '메타데이터 기반' 작업 계획

## 🎯 최종 목표
3,000개 파일의 **메타데이터를 먼저 추출하여 목록 파일(`file_manifest.csv`)을 생성**한다. LLM 에이전트는 이 목록 파일을 분석하여 가장 효율적인 정리 계획을 수립하고, 그 계획에 따라 단 한 번의 실행으로 모든 파일을 정확하게 분류 및 이동시킨다.

---

### Phase 1: 메타데이터 추출 (상황 파악 단계)

파일을 직접 건드리기 전에, 먼저 모든 파일의 정보를 담은 '지도'를 만듭니다. 이는 LLM이 불필요한 파일 접근 없이 전체 상황을 파악하고 분석할 수 있게 합니다.

1.  **파일 메타데이터 추출 스크립트 작성 (`create_manifest.py`)**
    * `test_workspace` 폴더와 그 하위 폴더 전체를 스캔하여 모든 파일의 정보를 추출하는 Python 스크립트를 작성해줘.
    * **추출할 정보**:
        * `file_path`: 파일의 전체 상대 경로 (예: `test_workspace/신제품 '퀀텀' 출시/20250320_QT_디자인시안_v3.3.jpg`)
        * `file_name`: 파일의 이름 (예: `20250320_QT_디자인시안_v3.3.jpg`)
        * `file_extension`: 파일 확장자 (예: `.jpg`)
        * `first_line_content`: 파일의 **첫 번째 줄 내용**. (`.txt` 파일만 해당, 다른 파일 형식은 빈 문자열로 둬도 무방)
    * **저장 형식**: 추출된 모든 정보를 `file_manifest.csv` 파일로 저장해줘. (CSV 헤더: `path, name, extension, content_hint`)

2.  **메타데이터 추출 스크립트 실행**
    * 방금 생성한 `create_manifest.py`를 실행해서 `file_manifest.csv` 파일을 만들어줘.

---

### Phase 2: 메타데이터 분석 및 지능형 정리 계획 수립 (전략 수립 단계)

이제 LLM 에이전트는 3,000개의 파일을 직접 다루는 대신, 잘 정리된 `file_manifest.csv` 파일 하나만 분석하여 최적의 정리 전략을 담은 스크립트를 생성합니다.

1.  **메타데이터 파일(`file_manifest.csv`) 분석**
    * `file_manifest.csv` 파일을 열고 내용을 분석해줘.
    * **분석 기준**:
        1.  **파일명 패턴**: `name` 컬럼에서 `날짜_프로젝트코드_...` 패턴을 따르는 파일이 몇 개인지 파악해줘.
        2.  **콘텐츠 힌트**: `content_hint` 컬럼에 "신제품 '퀀텀' 출시" 와 같은 프로젝트 이름 키워드가 포함된 파일이 몇 개인지 파악해줘.
        3.  **기타**: 위 두 가지 기준에 해당하지 않는 파일은 몇 개인지 파악해줘.

2.  **지능형 정리 스크립트 생성 (`intelligent_organizer.py`)**
    * 위 분석 결과를 바탕으로, `file_manifest.csv` 파일을 읽어와서 실제 파일 이동을 수행하는 최종 정리 스크립트를 작성해줘.
    * **핵심 로직**:
        * `file_manifest.csv` 파일을 한 줄씩 읽어온다.
        * **1순위 (파일명 규칙)**: `name`을 분석하여 `^\d{8}_([A-Z]{2,})_.*` 패턴이 맞으면, 해당 프로젝트 폴더로 이동시킨다.
        * **2순위 (콘텐츠 규칙)**: 1순위에 해당하지 않고 `content_hint`에 프로젝트명 키워드가 있으면, 해당 프로젝트 폴더로 이동시킨다.
        * **3순위 (미분류)**: 위 두 조건에 모두 해당하지 않으면, `_Uncategorized` 폴더로 이동시킨다.
    * 모든 파일 이동 작업은 이 스크립트 하나로 끝나야 한다. 이동 로그는 터미널에 출력해줘.

---

### Phase 3: 실행 및 최종 검증 (임무 완수)

1.  **지능형 정리 스크립트 실행**
    * `intelligent_organizer.py`를 실행하여 모든 파일을 한 번에 정리해줘.

2.  **최종 결과 보고**
    * 작업 완료 후, `test_workspace` 폴더의 최종 구조를 보여줘. 각 프로젝트 폴더와 `_Uncategorized` 폴더에 각각 몇 개의 파일이 정리되었는지 요약해서 보고해줘.